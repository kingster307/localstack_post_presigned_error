2022-07-27T19:41:42.038 DEBUG --- [  MainThread] stevedore.extension        : found extension EntryPoint(name='patch_get_account_id', value='localstack.aws.accounts:patch_get_account_id', group='localstack.hooks.on_infra_start')
2022-07-27T19:41:42.038 DEBUG --- [  MainThread] stevedore.extension        : found extension EntryPoint(name='register_partition_adjusting_proxy_listener', value='localstack.plugins:register_partition_adjusting_proxy_listener', group='localstack.hooks.on_infra_start')
2022-07-27T19:41:42.038 DEBUG --- [  MainThread] stevedore.extension        : found extension EntryPoint(name='add_aws_request_logger', value='localstack_ext.analytics.plugins:add_aws_request_logger', group='localstack.hooks.on_infra_start')
2022-07-27T19:41:42.040 DEBUG --- [  MainThread] stevedore.extension        : found extension EntryPoint(name='add_custom_edge_routes', value='localstack_ext.plugins:add_custom_edge_routes', group='localstack.hooks.on_infra_start')
2022-07-27T19:41:42.042 DEBUG --- [  MainThread] stevedore.extension        : found extension EntryPoint(name='add_iam_enforcement_listener', value='localstack_ext.services.iam.plugins:add_iam_enforcement_listener', group='localstack.hooks.on_infra_start')
2022-07-27T19:41:42.044 DEBUG --- [  MainThread] stevedore.extension        : found extension EntryPoint(name='add_legacy_iam_enforcement_listener', value='localstack_ext.services.iam.plugins:add_legacy_iam_enforcement_listener', group='localstack.hooks.on_infra_start')
2022-07-27T19:41:42.044 DEBUG --- [  MainThread] stevedore.extension        : found extension EntryPoint(name='extensions_on_infra_start', value='localstack_ext.extensions.plugins:extensions_on_infra_start', group='localstack.hooks.on_infra_start')
2022-07-27T19:41:42.045 DEBUG --- [  MainThread] stevedore.extension        : found extension EntryPoint(name='patch_account_id_resolver', value='localstack_ext.plugins:patch_account_id_resolver', group='localstack.hooks.on_infra_start')
2022-07-27T19:41:42.045 DEBUG --- [  MainThread] stevedore.extension        : found extension EntryPoint(name='patch_get_account_id_from_access_key_id', value='localstack_ext.plugins:patch_get_account_id_from_access_key_id', group='localstack.hooks.on_infra_start')
2022-07-27T19:41:42.045 DEBUG --- [  MainThread] stevedore.extension        : found extension EntryPoint(name='patch_moto_backend_dict', value='localstack_ext.plugins:patch_moto_backend_dict', group='localstack.hooks.on_infra_start')
2022-07-27T19:41:42.045 DEBUG --- [  MainThread] stevedore.extension        : found extension EntryPoint(name='register_pods_api', value='localstack_ext.persistence.plugins:register_pods_api', group='localstack.hooks.on_infra_start')
2022-07-27T19:41:42.045 DEBUG --- [  MainThread] stevedore.extension        : found extension EntryPoint(name='register_state_serializer_handlers', value='localstack_ext.persistence.plugins:register_state_serializer_handlers', group='localstack.hooks.on_infra_start')
2022-07-27T19:41:42.045 DEBUG --- [  MainThread] stevedore.extension        : found extension EntryPoint(name='setup_pro_infra', value='localstack_ext.plugins:setup_pro_infra', group='localstack.hooks.on_infra_start')
2022-07-27T19:41:42.046 DEBUG --- [  MainThread] plugin.manager             : instantiating plugin PluginSpec(localstack.hooks.on_infra_start.patch_get_account_id = <function patch_get_account_id at 0xffffa37c28c0>)
2022-07-27T19:41:42.046 DEBUG --- [  MainThread] plugin.manager             : loading plugin localstack.hooks.on_infra_start:patch_get_account_id
2022-07-27T19:41:42.046 DEBUG --- [  MainThread] plugin.manager             : instantiating plugin PluginSpec(localstack.hooks.on_infra_start.register_partition_adjusting_proxy_listener = <function register_partition_adjusting_proxy_listener at 0xffffa315aa70>)
2022-07-27T19:41:42.046 DEBUG --- [  MainThread] plugin.manager             : plugin localstack.hooks.on_infra_start:register_partition_adjusting_proxy_listener is disabled
2022-07-27T19:41:42.046 DEBUG --- [  MainThread] plugin.manager             : instantiating plugin PluginSpec(localstack.hooks.on_infra_start.add_aws_request_logger = <function add_aws_request_logger at 0xffffa315add0>)
2022-07-27T19:41:42.047 DEBUG --- [  MainThread] plugin.manager             : loading plugin localstack.hooks.on_infra_start:add_aws_request_logger
2022-07-27T19:41:42.047 DEBUG --- [  MainThread] plugin.manager             : instantiating plugin PluginSpec(localstack.hooks.on_infra_start.add_custom_edge_routes = <function add_custom_edge_routes at 0xffffa319f640>)
2022-07-27T19:41:42.047 DEBUG --- [  MainThread] plugin.manager             : loading plugin localstack.hooks.on_infra_start:add_custom_edge_routes
2022-07-27T19:41:42.047 DEBUG --- [  MainThread] plugin.manager             : instantiating plugin PluginSpec(localstack.hooks.on_infra_start.add_iam_enforcement_listener = <function add_iam_enforcement_listener at 0xffffa31b08b0>)
2022-07-27T19:41:42.047 DEBUG --- [  MainThread] plugin.manager             : loading plugin localstack.hooks.on_infra_start:add_iam_enforcement_listener
2022-07-27T19:41:42.047 DEBUG --- [  MainThread] plugin.manager             : instantiating plugin PluginSpec(localstack.hooks.on_infra_start.add_legacy_iam_enforcement_listener = <function add_legacy_iam_enforcement_listener at 0xffffa31b0700>)
2022-07-27T19:41:42.047 DEBUG --- [  MainThread] plugin.manager             : plugin localstack.hooks.on_infra_start:add_legacy_iam_enforcement_listener is disabled
2022-07-27T19:41:42.047 DEBUG --- [  MainThread] plugin.manager             : instantiating plugin PluginSpec(localstack.hooks.on_infra_start.extensions_on_infra_start = <function extensions_on_infra_start at 0xffffa31b0c10>)
2022-07-27T19:41:42.047 DEBUG --- [  MainThread] plugin.manager             : loading plugin localstack.hooks.on_infra_start:extensions_on_infra_start
2022-07-27T19:41:42.047 DEBUG --- [  MainThread] plugin.manager             : instantiating plugin PluginSpec(localstack.hooks.on_infra_start.patch_account_id_resolver = <function patch_account_id_resolver at 0xffffa319f880>)
2022-07-27T19:41:42.047 DEBUG --- [  MainThread] plugin.manager             : plugin localstack.hooks.on_infra_start:patch_account_id_resolver is disabled
2022-07-27T19:41:42.047 DEBUG --- [  MainThread] plugin.manager             : instantiating plugin PluginSpec(localstack.hooks.on_infra_start.patch_get_account_id_from_access_key_id = <function patch_get_account_id_from_access_key_id at 0xffffa319f9a0>)
2022-07-27T19:41:42.047 DEBUG --- [  MainThread] plugin.manager             : plugin localstack.hooks.on_infra_start:patch_get_account_id_from_access_key_id is disabled
2022-07-27T19:41:42.047 DEBUG --- [  MainThread] plugin.manager             : instantiating plugin PluginSpec(localstack.hooks.on_infra_start.patch_moto_backend_dict = <function patch_moto_backend_dict at 0xffffa319f760>)
2022-07-27T19:41:42.047 DEBUG --- [  MainThread] plugin.manager             : plugin localstack.hooks.on_infra_start:patch_moto_backend_dict is disabled
2022-07-27T19:41:42.048 DEBUG --- [  MainThread] plugin.manager             : instantiating plugin PluginSpec(localstack.hooks.on_infra_start.register_pods_api = <function register_pods_api at 0xffffa31b1090>)
2022-07-27T19:41:42.048 DEBUG --- [  MainThread] plugin.manager             : loading plugin localstack.hooks.on_infra_start:register_pods_api
2022-07-27T19:41:42.048 DEBUG --- [  MainThread] plugin.manager             : instantiating plugin PluginSpec(localstack.hooks.on_infra_start.register_state_serializer_handlers = <function register_state_serializer_handlers at 0xffffa31b11b0>)
2022-07-27T19:41:42.048 DEBUG --- [  MainThread] plugin.manager             : loading plugin localstack.hooks.on_infra_start:register_state_serializer_handlers
2022-07-27T19:41:42.048 DEBUG --- [  MainThread] plugin.manager             : instantiating plugin PluginSpec(localstack.hooks.on_infra_start.setup_pro_infra = <function setup_pro_infra at 0xffffa319ff40>)
2022-07-27T19:41:42.048 DEBUG --- [  MainThread] plugin.manager             : loading plugin localstack.hooks.on_infra_start:setup_pro_infra
2022-07-27T19:41:42.051 DEBUG --- [  MainThread] l.bootstrap.install        : Attempting to download local SSL certificate file
2022-07-27T19:41:42.352 DEBUG --- [  MainThread] localstack.utils.http      : Starting download from https://github.com/localstack/localstack-artifacts/raw/master/local-certs/server.key to /var/lib/localstack/cache/server.test.pem (5237 bytes)
2022-07-27T19:41:42.363 DEBUG --- [  MainThread] localstack.utils.http      : Done downloading https://github.com/localstack/localstack-artifacts/raw/master/local-certs/server.key, response code 200, total bytes 7693
2022-07-27T19:41:43.677  INFO --- [  MainThread] l.bootstrap.licensing      : Successfully activated API key
2022-07-27T19:41:43.726 DEBUG --- [  MainThread] localstack.utils.run       : Executing command: whoami
2022-07-27T19:41:43.732 DEBUG --- [  MainThread] localstack.utils.run       : Executing command:  python -c "import sys; f=open(sys.argv[1]).read(); open(sys.argv[1], 'w').write('\n' + f)" /etc/resolv.conf
2022-07-27T19:41:43.744 DEBUG --- [  MainThread] localstack.utils.run       : Executing command:  python -c "import sys; f=open(sys.argv[1]).read(); open(sys.argv[1], 'w').write('nameserver 0.0.0.0\n' + f)" /etc/resolv.conf
2022-07-27T19:41:43.755 DEBUG --- [  MainThread] localstack.utils.run       : Executing command:  python -c "import sys; f=open(sys.argv[1]).read(); open(sys.argv[1], 'w').write('# The following line is required by LocalStack\n' + f)" /etc/resolv.conf
2022-07-27T19:41:44.963 DEBUG --- [  MainThread] localstack_ext.plugins     : loading service plugin for azure
2022-07-27T19:41:44.964 ERROR --- [  MainThread] localstack_ext.plugins     : error while loading service azure: plugin localstack.aws.provider:azure:pro is disabled
2022-07-27T19:41:44.969  WARN --- [  MainThread] l.services.internal        : Enabling diagnose endpoint, please be aware that this can expose sensitive information via your network.
2022-07-27T19:41:45.127  INFO --- [  MainThread] l.extensions.platform      : loaded 0 extensions
2022-07-27T19:41:45.127 DEBUG --- [  MainThread] l.extensions.platform      : calling extensions on_platform_start
2022-07-27T19:41:45.127 DEBUG --- [  MainThread] l.extensions.platform      : calling extensions update_gateway_routes
2022-07-27T19:41:45.127 DEBUG --- [  MainThread] l.extensions.platform      : calling extensions update_request_handlers
2022-07-27T19:41:45.127 DEBUG --- [  MainThread] l.extensions.platform      : calling extensions update_response_handlers
2022-07-27T19:41:45.127  INFO --- [  MainThread] l.u.aws.metadata_service   : Starting AWS instance metadata service on port 80
2022-07-27T19:41:45.139  INFO --- [  MainThread] botocore.credentials       : Found credentials in environment variables.
2022-07-27T19:41:45.227 DEBUG --- [d-3 (worker)] l.services.install         : getting kinesis-mock for linux aarch64
2022-07-27T19:41:45.227 DEBUG --- [d-3 (worker)] l.services.install         : kinesis-mock found at /usr/lib/localstack/kinesis-mock/kinesis-mock.jar
2022-07-27T19:41:45.227 DEBUG --- [d-3 (worker)] localstack.utils.run       : Executing command: ['zip', '-u', 'DynamoDBLocal.jar', 'log4j2.xml']
2022-07-27T19:41:45.286 DEBUG --- [d-3 (worker)] localstack.utils.run       : Executing command: ['unzip', '-o', 'DynamoDBLocal.jar', 'META-INF/MANIFEST.MF']
2022-07-27T19:41:45.297 DEBUG --- [  Thread-105] l.bootstrap.install        : Using cached SSL certificate (less than 6hrs since last update).
2022-07-27T19:41:45.360  WARN --- [  Thread-108] hypercorn.error            : ASGI Framework Lifespan error, continuing without Lifespan support
2022-07-27T19:41:45.360  WARN --- [  Thread-108] hypercorn.error            : ASGI Framework Lifespan error, continuing without Lifespan support
2022-07-27T19:41:45.363 DEBUG --- [  Thread-105] l.bootstrap.install        : Using cached SSL certificate (less than 6hrs since last update).
2022-07-27T19:41:45.415  WARN --- [  Thread-110] hypercorn.error            : ASGI Framework Lifespan error, continuing without Lifespan support
2022-07-27T19:41:45.415  WARN --- [  Thread-110] hypercorn.error            : ASGI Framework Lifespan error, continuing without Lifespan support
2022-07-27T19:41:45.900  INFO --- [  Thread-108] hypercorn.error            : Running on https://0.0.0.0:4566 (CTRL + C to quit)
2022-07-27T19:41:45.900  INFO --- [  Thread-108] hypercorn.error            : Running on https://0.0.0.0:4566 (CTRL + C to quit)
2022-07-27T19:41:45.901  INFO --- [  Thread-110] hypercorn.error            : Running on https://0.0.0.0:443 (CTRL + C to quit)
2022-07-27T19:41:45.901  INFO --- [  Thread-110] hypercorn.error            : Running on https://0.0.0.0:443 (CTRL + C to quit)
2022-07-27T19:41:46.201  INFO --- [  MainThread] localstack.utils.bootstrap : Execution of "start_runtime_components" took 911.00ms
2022-07-27T19:41:47.217 DEBUG --- [  MainThread] l.extensions.platform      : calling extensions on_platform_ready
2022-07-27T19:41:49.910 DEBUG --- [uest_thread)] l.services.dns_server      : Determined fallback dns: 127.0.0.11
2022-07-27T19:41:56.438 DEBUG --- [   asgi_gw_5] l.services.plugins         : checking service health iam:4566
2022-07-27T19:41:56.453  INFO --- [   asgi_gw_5] localstack.request.aws     : AWS iam.CreateRole => 200
2022-07-27T19:41:56.457  INFO --- [   asgi_gw_1] localstack.request.aws     : AWS iam.CreatePolicy => 200
2022-07-27T19:41:56.537  INFO --- [   asgi_gw_5] localstack.request.aws     : AWS iam.GetPolicy => 200
2022-07-27T19:41:56.552  INFO --- [   asgi_gw_1] localstack.request.aws     : AWS iam.GetRole => 200
2022-07-27T19:41:56.570  INFO --- [   asgi_gw_4] botocore.credentials       : Found credentials in environment variables.
2022-07-27T19:41:56.580  INFO --- [   asgi_gw_5] localstack.request.aws     : AWS iam.GetPolicyVersion => 200
2022-07-27T19:41:56.593 DEBUG --- [   asgi_gw_4] l.services.plugins         : checking service health logs:4566
2022-07-27T19:41:56.599  INFO --- [   asgi_gw_2] localstack.request.aws     : AWS iam.CreateRole => 200
2022-07-27T19:41:56.601  INFO --- [   asgi_gw_0] localstack.request.aws     : AWS iam.CreatePolicy => 200
2022-07-27T19:41:56.620  INFO --- [   asgi_gw_4] localstack.request.aws     : AWS logs.CreateLogGroup => 200
2022-07-27T19:41:56.661  INFO --- [   asgi_gw_2] localstack.request.aws     : AWS iam.GetPolicy => 200
2022-07-27T19:41:56.664  INFO --- [   asgi_gw_5] localstack.request.aws     : AWS iam.GetRole => 200
2022-07-27T19:41:56.693  INFO --- [  Thread-131] l.services.motoserver      : starting moto server on http://0.0.0.0:58605
2022-07-27T19:41:56.694  INFO --- [   asgi_gw_3] localstack.services.infra  : Starting mock S3 service on http ports 443/4566 ...
2022-07-27T19:41:56.710  INFO --- [   asgi_gw_4] localstack.request.aws     : AWS iam.GetPolicyVersion => 200
2022-07-27T19:41:56.738  INFO --- [   asgi_gw_1] localstack.request.aws     : AWS logs.PutRetentionPolicy => 200
2022-07-27T19:41:56.743  INFO --- [   asgi_gw_3] localstack.request.aws     : AWS s3.CreateBucket => 200
2022-07-27T19:41:56.750  INFO --- [   asgi_gw_2] localstack.request.aws     : AWS logs.DescribeLogGroups => 200
2022-07-27T19:41:56.765  INFO --- [   asgi_gw_1] localstack.request.aws     : AWS logs.ListTagsLogGroup => 200
2022-07-27T19:41:56.781  INFO --- [   asgi_gw_0] localstack.request.aws     : AWS s3.PutBucketCors => 200
2022-07-27T19:41:56.790  INFO --- [   asgi_gw_4] localstack.request.aws     : AWS s3.HeadBucket => 200
2022-07-27T19:41:56.801  INFO --- [   asgi_gw_2] localstack.request.aws     : AWS s3.GetBucketAcl => 200
2022-07-27T19:41:56.826  INFO --- [   asgi_gw_5] localstack.request.aws     : AWS s3.GetBucketCors => 200
2022-07-27T19:41:56.840  INFO --- [   asgi_gw_1] localstack.request.aws     : AWS s3.GetBucketWebsite => 404 (NoSuchWebsiteConfiguration)
2022-07-27T19:41:56.848  INFO --- [   asgi_gw_0] localstack.request.aws     : AWS s3.GetBucketVersioning => 200
2022-07-27T19:41:56.859  INFO --- [   asgi_gw_3] localstack.request.aws     : AWS s3.GetBucketAccelerateConfiguration => 200
2022-07-27T19:41:56.872  INFO --- [   asgi_gw_2] localstack.request.aws     : AWS s3.GetBucketRequestPayment => 200
2022-07-27T19:41:56.895  INFO --- [   asgi_gw_5] localstack.request.aws     : AWS s3.GetBucketLogging => 200
2022-07-27T19:41:56.916  INFO --- [   asgi_gw_1] localstack.request.aws     : AWS s3.GetBucketLifecycleConfiguration => 404 (NoSuchLifecycleConfiguration)
2022-07-27T19:41:56.936  INFO --- [   asgi_gw_3] localstack.request.aws     : AWS s3.GetBucketReplication => 404 (ReplicationConfigurationNotFoundError)
2022-07-27T19:41:56.947  INFO --- [   asgi_gw_4] localstack.request.aws     : AWS s3.GetBucketEncryption => 404 (ServerSideEncryptionConfigurationNotFoundError)
2022-07-27T19:41:56.991  INFO --- [   asgi_gw_5] localstack.request.aws     : AWS s3.GetObjectLockConfiguration => 404 (ObjectLockConfigurationNotFoundError)
2022-07-27T19:41:56.995  INFO --- [   asgi_gw_0] localstack.request.aws     : AWS iam.ListRolePolicies => 200
2022-07-27T19:41:57.016  INFO --- [   asgi_gw_1] localstack.request.aws     : AWS s3.HeadBucket => 200
2022-07-27T19:41:57.019  INFO --- [   asgi_gw_2] localstack.request.aws     : AWS iam.ListAttachedRolePolicies => 200
2022-07-27T19:41:57.029  INFO --- [   asgi_gw_5] localstack.request.aws     : AWS s3.GetBucketTagging => 404 (NoSuchTagSet)
2022-07-27T19:41:57.064  INFO --- [   asgi_gw_1] localstack.request.aws     : AWS iam.AttachRolePolicy => 200
2022-07-27T19:41:57.076  INFO --- [   asgi_gw_4] localstack.request.aws     : AWS iam.AttachRolePolicy => 200
2022-07-27T19:41:57.087  INFO --- [   asgi_gw_2] localstack.request.aws     : AWS iam.CreatePolicy => 200
2022-07-27T19:41:57.091  INFO --- [   asgi_gw_5] localstack.request.aws     : AWS iam.CreatePolicy => 200
2022-07-27T19:41:57.097  INFO --- [   asgi_gw_0] localstack.request.aws     : AWS iam.ListAttachedRolePolicies => 200
2022-07-27T19:41:57.116  INFO --- [   asgi_gw_1] localstack.request.aws     : AWS iam.ListAttachedRolePolicies => 200
2022-07-27T19:41:57.123  INFO --- [   asgi_gw_2] localstack.request.aws     : AWS iam.GetPolicy => 200
2022-07-27T19:41:57.129  INFO --- [   asgi_gw_3] localstack.request.aws     : AWS iam.GetPolicy => 200
2022-07-27T19:41:57.131  INFO --- [   asgi_gw_5] localstack.request.aws     : AWS iam.ListRolePolicies => 200
2022-07-27T19:41:57.151  INFO --- [   asgi_gw_4] localstack.request.aws     : AWS iam.GetPolicyVersion => 200
2022-07-27T19:41:57.167  INFO --- [   asgi_gw_0] localstack.request.aws     : AWS iam.GetPolicyVersion => 200
2022-07-27T19:41:57.169  INFO --- [   asgi_gw_3] localstack.request.aws     : AWS iam.ListAttachedRolePolicies => 200
2022-07-27T19:41:57.190  INFO --- [   asgi_gw_1] localstack.request.aws     : AWS iam.AttachRolePolicy => 200
2022-07-27T19:41:57.194  INFO --- [   asgi_gw_2] localstack.request.aws     : AWS iam.AttachRolePolicy => 200
2022-07-27T19:41:57.197  INFO --- [   asgi_gw_0] localstack.request.aws     : AWS iam.AttachRolePolicy => 200
2022-07-27T19:41:57.206  INFO --- [   asgi_gw_4] localstack.request.aws     : AWS iam.ListAttachedRolePolicies => 200
2022-07-27T19:41:57.235  INFO --- [   asgi_gw_1] localstack.request.aws     : AWS iam.AttachRolePolicy => 200
2022-07-27T19:41:57.243  INFO --- [   asgi_gw_2] localstack.request.aws     : AWS iam.ListAttachedRolePolicies => 200
2022-07-27T19:41:57.253  INFO --- [   asgi_gw_5] localstack.request.aws     : AWS iam.ListAttachedRolePolicies => 200
2022-07-27T19:41:57.255  INFO --- [   asgi_gw_3] localstack.request.aws     : AWS iam.ListAttachedRolePolicies => 200
2022-07-27T19:41:57.673  INFO --- [   asgi_gw_0] localstack.services.infra  : Starting mock Lambda service on http ports 443/4566 ...
2022-07-27T19:41:57.674 DEBUG --- [  Thread-173] l.s.a.lambda_executors     : Cleaning up docker-reuse executor. Set arn: None
2022-07-27T19:41:57.674 DEBUG --- [  Thread-173] l.s.a.lambda_executors     : Destroying all running docker-reuse lambda containers
2022-07-27T19:41:57.674 DEBUG --- [  Thread-173] l.s.a.lambda_executors     : Getting all lambda containers names.
2022-07-27T19:41:57.674 DEBUG --- [  Thread-173] l.u.c.docker_sdk_client    : Listing containers with filters: {'name': 'localstack_lambda_*'}
2022-07-27T19:41:57.691 DEBUG --- [  Thread-173] l.s.a.lambda_executors     : Removing 0 containers.
2022-07-27T19:41:57.691 DEBUG --- [  Thread-173] l.s.a.lambda_executors     : Checking if there are idle containers ...
2022-07-27T19:41:57.694 DEBUG --- [  Thread-173] l.u.c.container_client     : Getting networks for container: localstack
2022-07-27T19:41:58.193  INFO --- [   asgi_gw_0] localstack.utils.bootstrap : Execution of "require" took 897.94ms
2022-07-27T19:41:58.195 DEBUG --- [  Thread-178] l.s.a.lambda_executors     : Cleaning up docker-reuse executor. Set arn: arn:aws:lambda:us-west-2:000000000000:function:s3OnObjectCreatedLambda-3779396
2022-07-27T19:41:58.219 DEBUG --- [  Thread-178] l.s.a.lambda_executors     : Cleaning up docker-reuse executor. Set arn: arn:aws:lambda:us-west-2:000000000000:function:s3OnObjectCreatedLambda-3779396
2022-07-27T19:41:58.268 DEBUG --- [  Thread-178] localstack.utils.run       : Executing command: ['unzip', '-o', '-q', '/var/lib/localstack/tmp/zipfile.d856d43a/original_lambda_archive.zip']
2022-07-27T19:41:58.703  INFO --- [   asgi_gw_0] localstack.request.aws     : AWS lambda.CreateFunction => 200
2022-07-27T19:42:03.740  INFO --- [   asgi_gw_5] localstack.request.aws     : AWS lambda.GetFunction => 200
2022-07-27T19:42:03.763  INFO --- [   asgi_gw_2] localstack.request.aws     : AWS lambda.GetFunction => 200
2022-07-27T19:42:03.779  INFO --- [   asgi_gw_1] localstack.request.aws     : AWS lambda.ListVersionsByFunction => 200
2022-07-27T19:42:03.792  INFO --- [   asgi_gw_3] localstack.request.aws     : AWS lambda.GetFunctionCodeSigningConfig => 200
2022-07-27T19:42:03.811 DEBUG --- [  Thread-190] l.s.a.lambda_executors     : Cleaning up docker-reuse executor. Set arn: arn:aws:lambda:us-west-2:000000000000:function:s3CreatePresignedUrlLambda-e74d69b
2022-07-27T19:42:03.821 DEBUG --- [  Thread-190] l.s.a.lambda_executors     : Cleaning up docker-reuse executor. Set arn: arn:aws:lambda:us-west-2:000000000000:function:s3CreatePresignedUrlLambda-e74d69b
2022-07-27T19:42:03.827  INFO --- [   asgi_gw_4] localstack.request.aws     : AWS logs.CreateLogGroup => 200
2022-07-27T19:42:03.846  INFO --- [   asgi_gw_2] localstack.request.aws     : AWS logs.PutRetentionPolicy => 200
2022-07-27T19:42:03.856  INFO --- [   asgi_gw_1] localstack.request.aws     : AWS logs.DescribeLogGroups => 200
2022-07-27T19:42:03.876  INFO --- [   asgi_gw_2] localstack.request.aws     : AWS logs.ListTagsLogGroup => 200
2022-07-27T19:42:03.888 DEBUG --- [  Thread-190] localstack.utils.run       : Executing command: ['unzip', '-o', '-q', '/var/lib/localstack/tmp/zipfile.d2eb86f1/original_lambda_archive.zip']
2022-07-27T19:42:03.932 DEBUG --- [uest_thread)] l.s.awslambda.lambda_api   : Creating IAM policy "lambda_policy_s3OnObjectCreatedLambda-3779396_latest" for Lambda resource arn:aws:lambda:us-west-2:000000000000:function:s3OnObjectCreatedLambda-3779396
2022-07-27T19:42:03.939  INFO --- [   asgi_gw_5] localstack.request.aws     : AWS lambda.AddPermission => 200
2022-07-27T19:42:04.077  INFO --- [   asgi_gw_2] localstack.request.aws     : AWS lambda.GetPolicy => 200
2022-07-27T19:42:04.314  INFO --- [   asgi_gw_0] localstack.request.aws     : AWS lambda.CreateFunction => 200
2022-07-27T19:42:09.332  INFO --- [   asgi_gw_4] localstack.request.aws     : AWS lambda.GetFunction => 200
2022-07-27T19:42:09.351  INFO --- [   asgi_gw_1] localstack.request.aws     : AWS lambda.GetFunction => 200
2022-07-27T19:42:09.362  INFO --- [   asgi_gw_2] localstack.request.aws     : AWS lambda.ListVersionsByFunction => 200
2022-07-27T19:42:09.371  INFO --- [   asgi_gw_3] localstack.request.aws     : AWS lambda.GetFunctionCodeSigningConfig => 200
2022-07-27T19:42:09.476 DEBUG --- [   asgi_gw_5] l.s.apigateway.router_asf  : Registering parameterized API gateway routes.
2022-07-27T19:42:09.478 DEBUG --- [   asgi_gw_5] l.services.plugins         : checking service health apigateway:4566
2022-07-27T19:42:09.515  INFO --- [   asgi_gw_5] localstack.request.aws     : AWS apigateway.CreateRestApi => 201
2022-07-27T19:42:09.529  INFO --- [   asgi_gw_0] localstack.request.aws     : AWS apigateway.PutRestApi => 200
2022-07-27T19:42:09.539  INFO --- [   asgi_gw_4] l.s.apigateway.helpers     : Missing "value" in JSONPatch operation for {'id': '3qlm3skytd', 'region_name': 'us-west-2', 'name': 'apiGateway', 'description': None, 'version': 'V1', 'binaryMediaTypes': [], 'create_date': 1658950929, 'api_key_source': 'HEADER', 'policy': None, 'endpoint_configuration': {'types': ['EDGE']}, 'tags': {}, 'disableExecuteApiEndpoint': False, 'minimum_compression_size': None, 'deployments': {}, 'authorizers': {}, 'gateway_responses': {}, 'stages': {}, 'resources': {'95u4714yu5': <moto.apigateway.models.Resource object at 0xffff088b1d20>, '49sdfj3yl5': <moto.apigateway.models.Resource object at 0xffff088b1cc0>, 'njzg1h279i': <moto.apigateway.models.Resource object at 0xffff088b1e10>}, 'models': {}, 'request_validators': {}, 'default': <moto.apigateway.models.Resource object at 0xffff088b1000>}: {'op': 'add', 'path': '/binaryMediaTypes/needs_this_so_pulumi_does_not_add~1default_binary_media_type'}
2022-07-27T19:42:09.539  INFO --- [   asgi_gw_4] localstack.request.aws     : AWS apigateway.UpdateRestApi => 200
2022-07-27T19:42:09.551  INFO --- [   asgi_gw_1] localstack.request.aws     : AWS apigateway.GetRestApi => 200
2022-07-27T19:42:09.604  INFO --- [   asgi_gw_2] localstack.request.aws     : AWS apigateway.GetResources => 200
2022-07-27T19:42:09.642  INFO --- [   asgi_gw_3] localstack.request.aws     : AWS apigateway.CreateDeployment => 200
2022-07-27T19:42:09.650  INFO --- [   asgi_gw_5] localstack.request.aws     : AWS apigateway.GetDeployment => 200
2022-07-27T19:42:09.846 DEBUG --- [uest_thread)] l.s.awslambda.lambda_api   : Creating IAM policy "lambda_policy_s3CreatePresignedUrlLambda-e74d69b_latest" for Lambda resource arn:aws:lambda:us-west-2:000000000000:function:s3CreatePresignedUrlLambda-e74d69b
2022-07-27T19:42:09.855  INFO --- [   asgi_gw_0] localstack.request.aws     : AWS lambda.AddPermission => 200
2022-07-27T19:42:10.047  INFO --- [   asgi_gw_1] localstack.request.aws     : AWS lambda.GetPolicy => 200
2022-07-27T19:42:10.086  INFO --- [   asgi_gw_4] localstack.request.aws     : AWS apigateway.CreateStage => 200
2022-07-27T19:42:10.101  INFO --- [   asgi_gw_5] localstack.request.aws     : AWS apigateway.UpdateStage => 200
2022-07-27T19:42:10.109  INFO --- [   asgi_gw_2] localstack.request.aws     : AWS apigateway.GetStage => 200
2022-07-27T19:42:10.197  INFO --- [   asgi_gw_0] localstack.request.aws     : AWS s3.PutBucketNotificationConfiguration => 200
2022-07-27T19:42:10.205  INFO --- [   asgi_gw_3] localstack.request.aws     : AWS s3.GetBucketNotificationConfiguration => 200
2022-07-27T19:42:10.963  INFO --- [   asgi_gw_1] l.s.apigateway.integration : Method request body before transformations: 
2022-07-27T19:42:10.963 DEBUG --- [   asgi_gw_1] l.s.awslambda.lambda_api   : Running Lambda function arn:aws:lambda:us-west-2:000000000000:function:s3CreatePresignedUrlLambda-e74d69b from API Gateway invocation: GET /get_presigned_url
2022-07-27T19:42:11.078 DEBUG --- [   asgi_gw_1] l.u.c.container_client     : Getting ipv4 address for container localstack in network devnet.
2022-07-27T19:42:11.101  INFO --- [   asgi_gw_1] l.u.container_networking   : Determined main container target IP: 169.254.170.2
2022-07-27T19:42:11.101  INFO --- [   asgi_gw_1] l.s.a.lambda_executors     : Running lambda: arn:aws:lambda:us-west-2:000000000000:function:s3CreatePresignedUrlLambda-e74d69b
2022-07-27T19:42:11.101 DEBUG --- [   asgi_gw_1] l.s.a.lambda_launcher      : Executing docker-reuse Lambda container invocation
2022-07-27T19:42:11.101 DEBUG --- [   asgi_gw_1] l.s.a.lambda_executors     : Priming docker container with runtime "python3.7" and arn "arn:aws:lambda:us-west-2:000000000000:function:s3CreatePresignedUrlLambda-e74d69b".
2022-07-27T19:42:11.114 DEBUG --- [   asgi_gw_1] l.s.a.lambda_executors     : Priming Docker container (status "0"): localstack_lambda_arn_aws_lambda_us-west-2_000000000000_function_s3CreatePresignedUrlLambda-e74d69b
2022-07-27T19:42:11.123 DEBUG --- [   asgi_gw_1] l.s.a.lambda_executors     : Creating container: localstack_lambda_arn_aws_lambda_us-west-2_000000000000_function_s3CreatePresignedUrlLambda-e74d69b
2022-07-27T19:42:11.124 DEBUG --- [   asgi_gw_1] l.s.a.lambda_launcher      : Executing docker reuse container creation hook for function arn:aws:lambda:us-west-2:000000000000:function:s3CreatePresignedUrlLambda-e74d69b
2022-07-27T19:42:11.194 DEBUG --- [   asgi_gw_1] l.u.c.container_client     : Getting the entrypoint for image: localstack/lambda:python3.7
2022-07-27T19:42:11.241 DEBUG --- [   asgi_gw_1] l.s.a.lambda_executors     : Creating docker-reuse Lambda container localstack_lambda_arn_aws_lambda_us-west-2_000000000000_function_s3CreatePresignedUrlLambda-e74d69b from image localstack/lambda:python3.7
2022-07-27T19:42:11.241 DEBUG --- [   asgi_gw_1] l.u.c.docker_sdk_client    : Creating container with attributes: {'mount_volumes': None, 'ports': None, 'cap_add': ['NET_ADMIN'], 'cap_drop': None, 'security_opt': None, 'dns': '127.0.0.1', 'additional_flags': None, 'workdir': None, 'command': ['lambda_function.lambda_handler'], 'detach': False, 'entrypoint': '/tmp/1510920a.sh', 'env_vars': {'BUCKET': 'proj-bucket-prefix-20220727194156377900000001', 'ENV': 'ls_local', 'PREFIX': 'presigned_url_prefix/', 'AWS_ACCESS_KEY_ID': 'test', 'AWS_SECRET_ACCESS_KEY': 'test', 'AWS_REGION': 'us-west-2', 'LOCALSTACK_HOSTNAME': '169.254.170.2', 'AWS_ENDPOINT_URL': 'http://169.254.170.2:4566', 'EDGE_PORT': '443', '_HANDLER': 'lambda_function.lambda_handler', 'AWS_LAMBDA_FUNCTION_TIMEOUT': '29', 'AWS_LAMBDA_FUNCTION_NAME': 's3CreatePresignedUrlLambda-e74d69b', 'AWS_LAMBDA_FUNCTION_VERSION': '$LATEST', 'AWS_LAMBDA_FUNCTION_INVOKED_ARN': 'arn:aws:lambda:us-west-2:000000000000:function:s3CreatePresignedUrlLambda-e74d69b', '_LAMBDA_SERVER_PORT': '5000', 'DOCKER_LAMBDA_STAY_OPEN': '1', 'LOCALSTACK_DEBUG': '1'}, 'image_name': 'localstack/lambda:python3.7', 'interactive': False, 'name': 'localstack_lambda_arn_aws_lambda_us-west-2_000000000000_function_s3CreatePresignedUrlLambda-e74d69b', 'network': 'devnet', 'remove': True, 'self': <localstack.utils.container_utils.docker_sdk_client.SdkDockerClient object at 0xffffa49ee6b0>, 'tty': False, 'user': 'root'}
2022-07-27T19:42:11.282 DEBUG --- [   asgi_gw_1] l.s.a.lambda_executors     : Copying "/var/lib/localstack/tmp/zipfile.d2eb86f1/." to "localstack_lambda_arn_aws_lambda_us-west-2_000000000000_function_s3CreatePresignedUrlLambda-e74d69b:/var/task".
2022-07-27T19:42:11.282 DEBUG --- [   asgi_gw_1] l.u.c.docker_sdk_client    : Copying file /var/lib/localstack/tmp/zipfile.d2eb86f1/. into localstack_lambda_arn_aws_lambda_us-west-2_000000000000_function_s3CreatePresignedUrlLambda-e74d69b:/var/task
2022-07-27T19:42:11.468 DEBUG --- [   asgi_gw_1] l.s.a.lambda_executors     : Copying "/var/lib/localstack/tmp/1510920a.sh" to "localstack_lambda_arn_aws_lambda_us-west-2_000000000000_function_s3CreatePresignedUrlLambda-e74d69b:/tmp/1510920a.sh".
2022-07-27T19:42:11.468 DEBUG --- [   asgi_gw_1] l.u.c.docker_sdk_client    : Copying file /var/lib/localstack/tmp/1510920a.sh into localstack_lambda_arn_aws_lambda_us-west-2_000000000000_function_s3CreatePresignedUrlLambda-e74d69b:/tmp/1510920a.sh
2022-07-27T19:42:11.593 DEBUG --- [   asgi_gw_1] l.s.a.lambda_executors     : Starting docker-reuse Lambda container: localstack_lambda_arn_aws_lambda_us-west-2_000000000000_function_s3CreatePresignedUrlLambda-e74d69b
2022-07-27T19:42:11.593 DEBUG --- [   asgi_gw_1] l.u.c.docker_sdk_client    : Starting container localstack_lambda_arn_aws_lambda_us-west-2_000000000000_function_s3CreatePresignedUrlLambda-e74d69b
2022-07-27T19:42:12.555 DEBUG --- [   asgi_gw_1] l.u.c.container_client     : Getting networks for container: localstack_lambda_arn_aws_lambda_us-west-2_000000000000_function_s3CreatePresignedUrlLambda-e74d69b
2022-07-27T19:42:12.579 DEBUG --- [   asgi_gw_1] l.u.c.container_client     : Getting the entrypoint for image: localstack/lambda:python3.7
2022-07-27T19:42:12.602 DEBUG --- [   asgi_gw_1] l.s.a.lambda_executors     : Using entrypoint "/var/rapid/init --bootstrap /var/runtime/bootstrap" for container "localstack_lambda_arn_aws_lambda_us-west-2_000000000000_function_s3CreatePresignedUrlLambda-e74d69b" on network "devnet".
2022-07-27T19:42:12.613 DEBUG --- [   asgi_gw_1] l.s.a.lambda_executors     : Calling http://169.254.170.3:9001 to run invocation in docker-reuse Lambda container
2022-07-27T19:42:14.640 DEBUG --- [   asgi_gw_1] l.s.a.lambda_executors     : Lambda arn:aws:lambda:us-west-2:000000000000:function:s3CreatePresignedUrlLambda-e74d69b result / log output:
{"statusCode": 200, "headers": {"Access-Control-Allow-Origin": "*", "Access-Control-Allow-Credentials": "true", "Access-Control-Allow-Headers": "Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token"}, "body": "{\"status\": true, \"message\": null, \"data\": {\"url\": \"http://169.254.170.2:4566/proj-bucket-prefix-20220727194156377900000001\", \"fields\": {\"content-type\": \"csv\", \"x-amz-meta-action\": \"upload\", \"x-amz-meta-filename\": \"large.csv\", \"x-amz-meta-very-important\": \"L\", \"key\": \"presigned_url_prefix/ac415a2e-e96b-4287-85e5-6b237b03c07b\", \"AWSAccessKeyId\": \"test\", \"policy\": \"eyJleHBpcmF0aW9uIjogIjIwMjItMDctMjdUMjA6NDI6MTRaIiwgImNvbmRpdGlvbnMiOiBbWyJlcSIsICIka2V5IiwgInByZXNpZ25lZF91cmxfcHJlZml4L2FjNDE1YTJlLWU5NmItNDI4Ny04NWU1LTZiMjM3YjAzYzA3YiJdLCBbImNvbnRlbnQtbGVuZ3RoLXJhbmdlIiwgMSwgMTAwMDAwMDAwMF0sIFsiZXEiLCAiJGNvbnRlbnQtdHlwZSIsICJjc3YiXSwgWyJlcSIsICIkeC1hbXotbWV0YS1hY3Rpb24iLCAidXBsb2FkIl0sIFsiZXEiLCAiJHgtYW16LW1ldGEtZmlsZW5hbWUiLCAibGFyZ2UuY3N2Il0sIFsiZXEiLCAiJHgtYW16LW1ldGEtdmVyeS1pbXBvcnRhbnQiLCAiTCJdLCB7ImJ1Y2tldCI6ICJwcm9qLWJ1Y2tldC1wcmVmaXgtMjAyMjA3MjcxOTQxNTYzNzc5MDAwMDAwMDEifSwgeyJrZXkiOiAicHJlc2lnbmVkX3VybF9wcmVmaXgvYWM0MTVhMmUtZTk2Yi00Mjg3LTg1ZTUtNmIyMzdiMDNjMDdiIn1dfQ==\", \"signature\": \"bP36s5kNaN7x5kY6DBQ+geJD7DU=\"}}}"}
>{'path': '/get_presigned_url', 'headers': {'Host': '3qlm3skytd.execute-api.localhost.localstack.cloud:4566', 'User-Agent': 'python-requests/2.27.1', 'accept-encoding': 'gzip, deflate', 'accept': '*/*', 'Connection': 'keep-alive', 'x-localstack-tgt-api': 'apigateway', 'X-Forwarded-For': '169.254.170.1, 3qlm3skytd.execute-api.localhost.localstack.cloud:4566', 'x-localstack-edge': 'http://3qlm3skytd.execute-api.localhost.localstack.cloud:4566', 'Authorization': ''}, 'multiValueHeaders': {'Host': ['3qlm3skytd.execute-api.localhost.localstack.cloud:4566'], 'User-Agent': ['python-requests/2.27.1'], 'accept-encoding': ['gzip, deflate'], 'accept': ['*/*'], 'Connection': ['keep-alive'], 'x-localstack-tgt-api': ['apigateway'], 'X-Forwarded-For': ['169.254.170.1, 3qlm3skytd.execute-api.localhost.localstack.cloud:4566'], 'x-localstack-edge': ['http://3qlm3skytd.execute-api.localhost.localstack.cloud:4566'], 'Authorization': ['']}, 'body': '', 'isBase64Encoded': False, 'httpMethod': 'GET', 'queryStringParameters': {'action': 'upload', 'file_name': 'large.csv', 'very_important_meta': 'L', 'content_type': 'csv'}, 'multiValueQueryStringParameters': {'action': ['upload'], 'file_name': ['large.csv'], 'very_important_meta': ['L'], 'content_type': ['csv']}, 'pathParameters': {}, 'resource': '/get_presigned_url', 'requestContext': {'accountId': '000000000000', 'apiId': '3qlm3skytd', 'resourcePath': '/get_presigned_url', 'domainPrefix': '3qlm3skytd', 'domainName': '3qlm3skytd.execute-api.localhost.localstack.cloud', 'resourceId': 'njzg1h279i', 'requestId': '4bcdba8a-6e0b-40cf-9aa2-36ad64365f54', 'identity': {'accountId': '000000000000', 'sourceIp': '169.254.170.1', 'userAgent': 'python-requests/2.27.1'}, 'httpMethod': 'GET', 'protocol': 'HTTP/1.1', 'requestTime': '27/Jul/2022:19:42:10 +0000', 'requestTimeEpoch': 1658950930963, 'authorizer': {'context': {}, 'identity': {}}, 'path': '/api/get_presigned_url', 'stage': 'api'}, 'stageVariables': {}}
2022-07-27T19:42:14.724 DEBUG --- [   asgi_gw_4] l.services.plugins         : checking service health cloudwatch:4566
2022-07-27T19:42:14.731  INFO --- [   asgi_gw_1] localstack.request.http    : GET /api/get_presigned_url => 200
2022-07-27T19:42:14.840 DEBUG --- [uest_thread)] l.s.a.lambda_executors     : Lambda executed in Event (asynchronous) mode, no response will be returned to caller
2022-07-27T19:42:14.840  INFO --- [  Thread-233] l.s.a.lambda_executors     : Running lambda: arn:aws:lambda:us-west-2:000000000000:function:s3OnObjectCreatedLambda-3779396
2022-07-27T19:42:14.840 DEBUG --- [  Thread-233] l.s.a.lambda_launcher      : Executing docker-reuse Lambda container invocation
2022-07-27T19:42:14.840 DEBUG --- [  Thread-233] l.s.a.lambda_executors     : Priming docker container with runtime "python3.7" and arn "arn:aws:lambda:us-west-2:000000000000:function:s3OnObjectCreatedLambda-3779396".
2022-07-27T19:42:14.845  INFO --- [   asgi_gw_5] localstack.request.aws     : AWS s3.DeleteObjects => 204
2022-07-27T19:42:14.847 DEBUG --- [  Thread-233] l.s.a.lambda_executors     : Priming Docker container (status "0"): localstack_lambda_arn_aws_lambda_us-west-2_000000000000_function_s3OnObjectCreatedLambda-3779396
2022-07-27T19:42:14.851 DEBUG --- [  Thread-233] l.s.a.lambda_executors     : Creating container: localstack_lambda_arn_aws_lambda_us-west-2_000000000000_function_s3OnObjectCreatedLambda-3779396
2022-07-27T19:42:14.851 DEBUG --- [  Thread-233] l.s.a.lambda_launcher      : Executing docker reuse container creation hook for function arn:aws:lambda:us-west-2:000000000000:function:s3OnObjectCreatedLambda-3779396
2022-07-27T19:42:14.940  INFO --- [   asgi_gw_0] l.s.apigateway.integration : Method request body before transformations: 
2022-07-27T19:42:14.940 DEBUG --- [   asgi_gw_0] l.s.awslambda.lambda_api   : Running Lambda function arn:aws:lambda:us-west-2:000000000000:function:s3CreatePresignedUrlLambda-e74d69b from API Gateway invocation: GET /get_presigned_url
2022-07-27T19:42:14.940  INFO --- [   asgi_gw_0] l.s.a.lambda_executors     : Running lambda: arn:aws:lambda:us-west-2:000000000000:function:s3CreatePresignedUrlLambda-e74d69b
2022-07-27T19:42:14.940 DEBUG --- [   asgi_gw_0] l.s.a.lambda_launcher      : Executing docker-reuse Lambda container invocation
2022-07-27T19:42:14.956 DEBUG --- [  Thread-233] l.u.c.container_client     : Getting the entrypoint for image: localstack/lambda:python3.7
2022-07-27T19:42:14.979 DEBUG --- [  Thread-233] l.s.a.lambda_executors     : Creating docker-reuse Lambda container localstack_lambda_arn_aws_lambda_us-west-2_000000000000_function_s3OnObjectCreatedLambda-3779396 from image localstack/lambda:python3.7
2022-07-27T19:42:14.979 DEBUG --- [  Thread-233] l.u.c.docker_sdk_client    : Creating container with attributes: {'mount_volumes': None, 'ports': None, 'cap_add': ['NET_ADMIN'], 'cap_drop': None, 'security_opt': None, 'dns': '127.0.0.1', 'additional_flags': None, 'workdir': None, 'command': ['lambda_function.lambda_handler'], 'detach': False, 'entrypoint': '/tmp/fbe21a89.sh', 'env_vars': {'AWS_ACCESS_KEY_ID': 'test', 'AWS_SECRET_ACCESS_KEY': 'test', 'AWS_REGION': 'us-west-2', 'LOCALSTACK_HOSTNAME': '169.254.170.2', 'AWS_ENDPOINT_URL': 'http://169.254.170.2:4566', 'EDGE_PORT': '443', '_HANDLER': 'lambda_function.lambda_handler', 'AWS_LAMBDA_FUNCTION_TIMEOUT': '900', 'AWS_LAMBDA_FUNCTION_NAME': 's3OnObjectCreatedLambda-3779396', 'AWS_LAMBDA_FUNCTION_VERSION': '$LATEST', 'AWS_LAMBDA_FUNCTION_INVOKED_ARN': 'arn:aws:lambda:us-west-2:000000000000:function:s3OnObjectCreatedLambda-3779396', '_LAMBDA_SERVER_PORT': '5001', 'DOCKER_LAMBDA_STAY_OPEN': '1', 'LOCALSTACK_DEBUG': '1'}, 'image_name': 'localstack/lambda:python3.7', 'interactive': False, 'name': 'localstack_lambda_arn_aws_lambda_us-west-2_000000000000_function_s3OnObjectCreatedLambda-3779396', 'network': 'devnet', 'remove': True, 'self': <localstack.utils.container_utils.docker_sdk_client.SdkDockerClient object at 0xffffa49ee6b0>, 'tty': False, 'user': 'root'}
2022-07-27T19:42:15.019 DEBUG --- [  Thread-233] l.s.a.lambda_executors     : Copying "/var/lib/localstack/tmp/zipfile.d856d43a/." to "localstack_lambda_arn_aws_lambda_us-west-2_000000000000_function_s3OnObjectCreatedLambda-3779396:/var/task".
2022-07-27T19:42:15.019 DEBUG --- [  Thread-233] l.u.c.docker_sdk_client    : Copying file /var/lib/localstack/tmp/zipfile.d856d43a/. into localstack_lambda_arn_aws_lambda_us-west-2_000000000000_function_s3OnObjectCreatedLambda-3779396:/var/task
2022-07-27T19:42:15.171 DEBUG --- [  Thread-233] l.s.a.lambda_executors     : Copying "/var/lib/localstack/tmp/fbe21a89.sh" to "localstack_lambda_arn_aws_lambda_us-west-2_000000000000_function_s3OnObjectCreatedLambda-3779396:/tmp/fbe21a89.sh".
2022-07-27T19:42:15.171 DEBUG --- [  Thread-233] l.u.c.docker_sdk_client    : Copying file /var/lib/localstack/tmp/fbe21a89.sh into localstack_lambda_arn_aws_lambda_us-west-2_000000000000_function_s3OnObjectCreatedLambda-3779396:/tmp/fbe21a89.sh
2022-07-27T19:42:15.252 DEBUG --- [  Thread-233] l.s.a.lambda_executors     : Starting docker-reuse Lambda container: localstack_lambda_arn_aws_lambda_us-west-2_000000000000_function_s3OnObjectCreatedLambda-3779396
2022-07-27T19:42:15.252 DEBUG --- [  Thread-233] l.u.c.docker_sdk_client    : Starting container localstack_lambda_arn_aws_lambda_us-west-2_000000000000_function_s3OnObjectCreatedLambda-3779396
2022-07-27T19:42:16.271 DEBUG --- [  Thread-233] l.u.c.container_client     : Getting networks for container: localstack_lambda_arn_aws_lambda_us-west-2_000000000000_function_s3OnObjectCreatedLambda-3779396
2022-07-27T19:42:16.305 DEBUG --- [  Thread-233] l.u.c.container_client     : Getting the entrypoint for image: localstack/lambda:python3.7
2022-07-27T19:42:16.321 DEBUG --- [  Thread-233] l.s.a.lambda_executors     : Using entrypoint "/var/rapid/init --bootstrap /var/runtime/bootstrap" for container "localstack_lambda_arn_aws_lambda_us-west-2_000000000000_function_s3OnObjectCreatedLambda-3779396" on network "devnet".
2022-07-27T19:42:16.321 DEBUG --- [   asgi_gw_0] l.s.a.lambda_executors     : Priming docker container with runtime "python3.7" and arn "arn:aws:lambda:us-west-2:000000000000:function:s3CreatePresignedUrlLambda-e74d69b".
2022-07-27T19:42:16.340 DEBUG --- [   asgi_gw_0] l.s.a.lambda_executors     : Priming Docker container (status "1"): localstack_lambda_arn_aws_lambda_us-west-2_000000000000_function_s3CreatePresignedUrlLambda-e74d69b
2022-07-27T19:42:16.346 DEBUG --- [  Thread-233] l.s.a.lambda_executors     : Calling http://169.254.170.4:9001 to run invocation in docker-reuse Lambda container
2022-07-27T19:42:16.364 DEBUG --- [  Thread-233] l.s.a.lambda_executors     : Lambda arn:aws:lambda:us-west-2:000000000000:function:s3OnObjectCreatedLambda-3779396 result / log output:

>
2022-07-27T19:42:16.393 DEBUG --- [   asgi_gw_0] l.u.c.container_client     : Getting networks for container: localstack_lambda_arn_aws_lambda_us-west-2_000000000000_function_s3CreatePresignedUrlLambda-e74d69b
2022-07-27T19:42:16.423 DEBUG --- [   asgi_gw_0] l.u.c.container_client     : Getting the entrypoint for image: localstack/lambda:python3.7
2022-07-27T19:42:16.430 DEBUG --- [   asgi_gw_0] l.s.a.lambda_executors     : Using entrypoint "/var/rapid/init --bootstrap /var/runtime/bootstrap" for container "localstack_lambda_arn_aws_lambda_us-west-2_000000000000_function_s3CreatePresignedUrlLambda-e74d69b" on network "devnet".
2022-07-27T19:42:16.474 DEBUG --- [   asgi_gw_0] l.s.a.lambda_executors     : Calling http://169.254.170.3:9001 to run invocation in docker-reuse Lambda container
2022-07-27T19:42:16.540 DEBUG --- [   asgi_gw_0] l.s.a.lambda_executors     : Lambda arn:aws:lambda:us-west-2:000000000000:function:s3CreatePresignedUrlLambda-e74d69b result / log output:
{"statusCode": 200, "headers": {"Access-Control-Allow-Origin": "*", "Access-Control-Allow-Credentials": "true", "Access-Control-Allow-Headers": "Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token"}, "body": "{\"status\": true, \"message\": null, \"data\": {\"url\": \"http://169.254.170.2:4566/proj-bucket-prefix-20220727194156377900000001\", \"fields\": {\"content-type\": \"csv\", \"x-amz-meta-action\": \"upload\", \"x-amz-meta-filename\": \"larger.csv\", \"x-amz-meta-very-important\": \"XL\", \"key\": \"presigned_url_prefix/661a7ea4-d7a0-4bbe-8d87-547a3138a7c2\", \"AWSAccessKeyId\": \"test\", \"policy\": \"eyJleHBpcmF0aW9uIjogIjIwMjItMDctMjdUMjA6NDI6MTZaIiwgImNvbmRpdGlvbnMiOiBbWyJlcSIsICIka2V5IiwgInByZXNpZ25lZF91cmxfcHJlZml4LzY2MWE3ZWE0LWQ3YTAtNGJiZS04ZDg3LTU0N2EzMTM4YTdjMiJdLCBbImNvbnRlbnQtbGVuZ3RoLXJhbmdlIiwgMSwgMTAwMDAwMDAwMF0sIFsiZXEiLCAiJGNvbnRlbnQtdHlwZSIsICJjc3YiXSwgWyJlcSIsICIkeC1hbXotbWV0YS1hY3Rpb24iLCAidXBsb2FkIl0sIFsiZXEiLCAiJHgtYW16LW1ldGEtZmlsZW5hbWUiLCAibGFyZ2VyLmNzdiJdLCBbImVxIiwgIiR4LWFtei1tZXRhLXZlcnktaW1wb3J0YW50IiwgIlhMIl0sIHsiYnVja2V0IjogInByb2otYnVja2V0LXByZWZpeC0yMDIyMDcyNzE5NDE1NjM3NzkwMDAwMDAwMSJ9LCB7ImtleSI6ICJwcmVzaWduZWRfdXJsX3ByZWZpeC82NjFhN2VhNC1kN2EwLTRiYmUtOGQ4Ny01NDdhMzEzOGE3YzIifV19\", \"signature\": \"WFfofK5dwH3EGtRDMXZGe56KEZ8=\"}}}"}
>{'path': '/get_presigned_url', 'headers': {'Host': '3qlm3skytd.execute-api.localhost.localstack.cloud:4566', 'User-Agent': 'python-requests/2.27.1', 'accept-encoding': 'gzip, deflate', 'accept': '*/*', 'Connection': 'keep-alive', 'x-localstack-tgt-api': 'apigateway', 'X-Forwarded-For': '169.254.170.1, 3qlm3skytd.execute-api.localhost.localstack.cloud:4566', 'x-localstack-edge': 'http://3qlm3skytd.execute-api.localhost.localstack.cloud:4566', 'Authorization': ''}, 'multiValueHeaders': {'Host': ['3qlm3skytd.execute-api.localhost.localstack.cloud:4566'], 'User-Agent': ['python-requests/2.27.1'], 'accept-encoding': ['gzip, deflate'], 'accept': ['*/*'], 'Connection': ['keep-alive'], 'x-localstack-tgt-api': ['apigateway'], 'X-Forwarded-For': ['169.254.170.1, 3qlm3skytd.execute-api.localhost.localstack.cloud:4566'], 'x-localstack-edge': ['http://3qlm3skytd.execute-api.localhost.localstack.cloud:4566'], 'Authorization': ['']}, 'body': '', 'isBase64Encoded': False, 'httpMethod': 'GET', 'queryStringParameters': {'action': 'upload', 'file_name': 'larger.csv', 'very_important_meta': 'XL', 'content_type': 'csv'}, 'multiValueQueryStringParameters': {'action': ['upload'], 'file_name': ['larger.csv'], 'very_important_meta': ['XL'], 'content_type': ['csv']}, 'pathParameters': {}, 'resource': '/get_presigned_url', 'requestContext': {'accountId': '000000000000', 'apiId': '3qlm3skytd', 'resourcePath': '/get_presigned_url', 'domainPrefix': '3qlm3skytd', 'domainName': '3qlm3skytd.execute-api.localhost.localstack.cloud', 'resourceId': 'njzg1h279i', 'requestId': 'fe625d76-9e45-468f-a9d9-491198308dc1', 'identity': {'accountId': '000000000000', 'sourceIp': '169.254.170.1', 'userAgent': 'python-requests/2.27.1'}, 'httpMethod': 'GET', 'protocol': 'HTTP/1.1', 'requestTime': '27/Jul/2022:19:42:14 +0000', 'requestTimeEpoch': 1658950934940, 'authorizer': {'context': {}, 'identity': {}}, 'path': '/api/get_presigned_url', 'stage': 'api'}, 'stageVariables': {}}
2022-07-27T19:42:16.641  INFO --- [   asgi_gw_0] localstack.request.http    : GET /api/get_presigned_url => 200
2022-07-27T19:42:16.672 ERROR --- [   asgi_gw_1] l.aws.handlers.logging     : exception during call chain
Traceback (most recent call last):
  File "/opt/code/localstack/localstack/aws/chain.py", line 57, in handle
    handler(self, self.context, response)
  File "/opt/code/localstack/localstack/aws/handlers/service.py", line 31, in __call__
    service = determine_aws_service_name(context.request)
  File "/opt/code/localstack/localstack/aws/protocol/service_router.py", line 314, in determine_aws_service_name
    values = request.values
  File "/opt/code/localstack/.venv/lib/python3.10/site-packages/werkzeug/utils.py", line 107, in __get__
    value = self.fget(obj)  # type: ignore
  File "/opt/code/localstack/.venv/lib/python3.10/site-packages/werkzeug/wrappers/request.py", line 448, in values
    sources.append(self.form)
  File "/opt/code/localstack/.venv/lib/python3.10/site-packages/werkzeug/utils.py", line 107, in __get__
    value = self.fget(obj)  # type: ignore
  File "/opt/code/localstack/.venv/lib/python3.10/site-packages/werkzeug/wrappers/request.py", line 428, in form
    self._load_form_data()
  File "/opt/code/localstack/.venv/lib/python3.10/site-packages/werkzeug/wrappers/request.py", line 266, in _load_form_data
    data = parser.parse(
  File "/opt/code/localstack/.venv/lib/python3.10/site-packages/werkzeug/formparser.py", line 263, in parse
    return parse_func(self, stream, mimetype, content_length, options)
  File "/opt/code/localstack/.venv/lib/python3.10/site-packages/werkzeug/formparser.py", line 140, in wrapper
    return f(self, stream, *args, **kwargs)
  File "/opt/code/localstack/.venv/lib/python3.10/site-packages/werkzeug/formparser.py", line 290, in _parse_multipart
    form, files = parser.parse(stream, boundary, content_length)
  File "/opt/code/localstack/.venv/lib/python3.10/site-packages/werkzeug/formparser.py", line 418, in parse
    for data in iterator:
  File "/opt/code/localstack/.venv/lib/python3.10/site-packages/werkzeug/wsgi.py", line 653, in _make_chunk_iter
    item = _read(buffer_size)
  File "/opt/code/localstack/.venv/lib/python3.10/site-packages/werkzeug/wsgi.py", line 925, in read
    return self.on_disconnect()
  File "/opt/code/localstack/.venv/lib/python3.10/site-packages/werkzeug/wsgi.py", line 893, in on_disconnect
    raise ClientDisconnected()
werkzeug.exceptions.ClientDisconnected: 400 Bad Request: The browser (or proxy) sent a request that this server could not understand.
2022-07-27T19:42:16.673 DEBUG --- [   asgi_gw_1] l.aws.handlers.fallback    : setting internal failure response for 400 Bad Request: The browser (or proxy) sent a request that this server could not understand.
2022-07-27T19:42:16.673 ERROR --- [   asgi_gw_1] localstack.aws.chain       : exception while running response handler
Traceback (most recent call last):
  File "/opt/code/localstack/localstack/aws/chain.py", line 122, in _call_response_handlers
    handler(self, self.context, response)
  File "/opt/code/localstack/localstack/aws/handlers/logging.py", line 47, in __call__
    self._log(context, response)
  File "/opt/code/localstack/localstack/aws/handlers/logging.py", line 142, in _log
    "input": restore_payload(context.request),
  File "/opt/code/localstack/localstack/http/request.py", line 220, in restore_payload
    data = request.data
  File "/opt/code/localstack/.venv/lib/python3.10/site-packages/werkzeug/utils.py", line 107, in __get__
    value = self.fget(obj)  # type: ignore
  File "/opt/code/localstack/.venv/lib/python3.10/site-packages/werkzeug/wrappers/request.py", line 354, in data
    return self.get_data(parse_form_data=True)
  File "/opt/code/localstack/.venv/lib/python3.10/site-packages/werkzeug/wrappers/request.py", line 404, in get_data
    self._load_form_data()
  File "/opt/code/localstack/.venv/lib/python3.10/site-packages/werkzeug/wrappers/request.py", line 266, in _load_form_data
    data = parser.parse(
  File "/opt/code/localstack/.venv/lib/python3.10/site-packages/werkzeug/formparser.py", line 263, in parse
    return parse_func(self, stream, mimetype, content_length, options)
  File "/opt/code/localstack/.venv/lib/python3.10/site-packages/werkzeug/formparser.py", line 140, in wrapper
    return f(self, stream, *args, **kwargs)
  File "/opt/code/localstack/.venv/lib/python3.10/site-packages/werkzeug/formparser.py", line 290, in _parse_multipart
    form, files = parser.parse(stream, boundary, content_length)
  File "/opt/code/localstack/.venv/lib/python3.10/site-packages/werkzeug/formparser.py", line 418, in parse
    for data in iterator:
  File "/opt/code/localstack/.venv/lib/python3.10/site-packages/werkzeug/wsgi.py", line 653, in _make_chunk_iter
    item = _read(buffer_size)
  File "/opt/code/localstack/.venv/lib/python3.10/site-packages/werkzeug/wsgi.py", line 925, in read
    return self.on_disconnect()
  File "/opt/code/localstack/.venv/lib/python3.10/site-packages/werkzeug/wsgi.py", line 893, in on_disconnect
    raise ClientDisconnected()
werkzeug.exceptions.ClientDisconnected: 400 Bad Request: The browser (or proxy) sent a request that this server could not understand.
2022-07-27T19:42:16.737  INFO --- [   asgi_gw_4] l.s.apigateway.integration : Method request body before transformations: 
2022-07-27T19:42:16.737 DEBUG --- [   asgi_gw_4] l.s.awslambda.lambda_api   : Running Lambda function arn:aws:lambda:us-west-2:000000000000:function:s3CreatePresignedUrlLambda-e74d69b from API Gateway invocation: GET /get_presigned_url
2022-07-27T19:42:16.738  INFO --- [   asgi_gw_4] l.s.a.lambda_executors     : Running lambda: arn:aws:lambda:us-west-2:000000000000:function:s3CreatePresignedUrlLambda-e74d69b
2022-07-27T19:42:16.738 DEBUG --- [   asgi_gw_4] l.s.a.lambda_launcher      : Executing docker-reuse Lambda container invocation
2022-07-27T19:42:16.738 DEBUG --- [   asgi_gw_4] l.s.a.lambda_executors     : Priming docker container with runtime "python3.7" and arn "arn:aws:lambda:us-west-2:000000000000:function:s3CreatePresignedUrlLambda-e74d69b".
2022-07-27T19:42:16.747 DEBUG --- [   asgi_gw_4] l.s.a.lambda_executors     : Priming Docker container (status "1"): localstack_lambda_arn_aws_lambda_us-west-2_000000000000_function_s3CreatePresignedUrlLambda-e74d69b
2022-07-27T19:42:16.771 DEBUG --- [   asgi_gw_4] l.u.c.container_client     : Getting networks for container: localstack_lambda_arn_aws_lambda_us-west-2_000000000000_function_s3CreatePresignedUrlLambda-e74d69b
2022-07-27T19:42:16.796 DEBUG --- [   asgi_gw_4] l.u.c.container_client     : Getting the entrypoint for image: localstack/lambda:python3.7
2022-07-27T19:42:16.801 DEBUG --- [   asgi_gw_4] l.s.a.lambda_executors     : Using entrypoint "/var/rapid/init --bootstrap /var/runtime/bootstrap" for container "localstack_lambda_arn_aws_lambda_us-west-2_000000000000_function_s3CreatePresignedUrlLambda-e74d69b" on network "devnet".
2022-07-27T19:42:16.815 DEBUG --- [   asgi_gw_4] l.s.a.lambda_executors     : Calling http://169.254.170.3:9001 to run invocation in docker-reuse Lambda container
2022-07-27T19:42:16.883 DEBUG --- [   asgi_gw_4] l.s.a.lambda_executors     : Lambda arn:aws:lambda:us-west-2:000000000000:function:s3CreatePresignedUrlLambda-e74d69b result / log output:
{"statusCode": 200, "headers": {"Access-Control-Allow-Origin": "*", "Access-Control-Allow-Credentials": "true", "Access-Control-Allow-Headers": "Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token"}, "body": "{\"status\": true, \"message\": null, \"data\": {\"url\": \"http://169.254.170.2:4566/proj-bucket-prefix-20220727194156377900000001\", \"fields\": {\"content-type\": \"csv\", \"x-amz-meta-action\": \"upload\", \"x-amz-meta-filename\": \"largest.csv\", \"x-amz-meta-very-important\": \"XXL\", \"key\": \"presigned_url_prefix/9584518e-0898-47b6-b11a-f83488192c92\", \"AWSAccessKeyId\": \"test\", \"policy\": \"eyJleHBpcmF0aW9uIjogIjIwMjItMDctMjdUMjA6NDI6MTZaIiwgImNvbmRpdGlvbnMiOiBbWyJlcSIsICIka2V5IiwgInByZXNpZ25lZF91cmxfcHJlZml4Lzk1ODQ1MThlLTA4OTgtNDdiNi1iMTFhLWY4MzQ4ODE5MmM5MiJdLCBbImNvbnRlbnQtbGVuZ3RoLXJhbmdlIiwgMSwgMTAwMDAwMDAwMF0sIFsiZXEiLCAiJGNvbnRlbnQtdHlwZSIsICJjc3YiXSwgWyJlcSIsICIkeC1hbXotbWV0YS1hY3Rpb24iLCAidXBsb2FkIl0sIFsiZXEiLCAiJHgtYW16LW1ldGEtZmlsZW5hbWUiLCAibGFyZ2VzdC5jc3YiXSwgWyJlcSIsICIkeC1hbXotbWV0YS12ZXJ5LWltcG9ydGFudCIsICJYWEwiXSwgeyJidWNrZXQiOiAicHJvai1idWNrZXQtcHJlZml4LTIwMjIwNzI3MTk0MTU2Mzc3OTAwMDAwMDAxIn0sIHsia2V5IjogInByZXNpZ25lZF91cmxfcHJlZml4Lzk1ODQ1MThlLTA4OTgtNDdiNi1iMTFhLWY4MzQ4ODE5MmM5MiJ9XX0=\", \"signature\": \"LKmiL1mnTmpaN/2fRaftIqgLcIU=\"}}}"}
>{'path': '/get_presigned_url', 'headers': {'Host': '3qlm3skytd.execute-api.localhost.localstack.cloud:4566', 'User-Agent': 'python-requests/2.27.1', 'accept-encoding': 'gzip, deflate', 'accept': '*/*', 'Connection': 'keep-alive', 'x-localstack-tgt-api': 'apigateway', 'X-Forwarded-For': '169.254.170.1, 3qlm3skytd.execute-api.localhost.localstack.cloud:4566', 'x-localstack-edge': 'http://3qlm3skytd.execute-api.localhost.localstack.cloud:4566', 'Authorization': ''}, 'multiValueHeaders': {'Host': ['3qlm3skytd.execute-api.localhost.localstack.cloud:4566'], 'User-Agent': ['python-requests/2.27.1'], 'accept-encoding': ['gzip, deflate'], 'accept': ['*/*'], 'Connection': ['keep-alive'], 'x-localstack-tgt-api': ['apigateway'], 'X-Forwarded-For': ['169.254.170.1, 3qlm3skytd.execute-api.localhost.localstack.cloud:4566'], 'x-localstack-edge': ['http://3qlm3skytd.execute-api.localhost.localstack.cloud:4566'], 'Authorization': ['']}, 'body': '', 'isBase64Encoded': False, 'httpMethod': 'GET', 'queryStringParameters': {'action': 'upload', 'file_name': 'largest.csv', 'very_important_meta': 'XXL', 'content_type': 'csv'}, 'multiValueQueryStringParameters': {'action': ['upload'], 'file_name': ['largest.csv'], 'very_important_meta': ['XXL'], 'content_type': ['csv']}, 'pathParameters': {}, 'resource': '/get_presigned_url', 'requestContext': {'accountId': '000000000000', 'apiId': '3qlm3skytd', 'resourcePath': '/get_presigned_url', 'domainPrefix': '3qlm3skytd', 'domainName': '3qlm3skytd.execute-api.localhost.localstack.cloud', 'resourceId': 'njzg1h279i', 'requestId': '7c134a62-ed1f-4058-ab24-1e6f2446b594', 'identity': {'accountId': '000000000000', 'sourceIp': '169.254.170.1', 'userAgent': 'python-requests/2.27.1'}, 'httpMethod': 'GET', 'protocol': 'HTTP/1.1', 'requestTime': '27/Jul/2022:19:42:16 +0000', 'requestTimeEpoch': 1658950936737, 'authorizer': {'context': {}, 'identity': {}}, 'path': '/api/get_presigned_url', 'stage': 'api'}, 'stageVariables': {}}
2022-07-27T19:42:16.901  INFO --- [   asgi_gw_4] localstack.request.http    : GET /api/get_presigned_url => 200
2022-07-27T19:42:16.994 ERROR --- [   asgi_gw_2] l.aws.handlers.logging     : exception during call chain
Traceback (most recent call last):
  File "/opt/code/localstack/localstack/aws/chain.py", line 57, in handle
    handler(self, self.context, response)
  File "/opt/code/localstack/localstack/aws/handlers/service.py", line 31, in __call__
    service = determine_aws_service_name(context.request)
  File "/opt/code/localstack/localstack/aws/protocol/service_router.py", line 314, in determine_aws_service_name
    values = request.values
  File "/opt/code/localstack/.venv/lib/python3.10/site-packages/werkzeug/utils.py", line 107, in __get__
    value = self.fget(obj)  # type: ignore
  File "/opt/code/localstack/.venv/lib/python3.10/site-packages/werkzeug/wrappers/request.py", line 448, in values
    sources.append(self.form)
  File "/opt/code/localstack/.venv/lib/python3.10/site-packages/werkzeug/utils.py", line 107, in __get__
    value = self.fget(obj)  # type: ignore
  File "/opt/code/localstack/.venv/lib/python3.10/site-packages/werkzeug/wrappers/request.py", line 428, in form
    self._load_form_data()
  File "/opt/code/localstack/.venv/lib/python3.10/site-packages/werkzeug/wrappers/request.py", line 266, in _load_form_data
    data = parser.parse(
  File "/opt/code/localstack/.venv/lib/python3.10/site-packages/werkzeug/formparser.py", line 263, in parse
    return parse_func(self, stream, mimetype, content_length, options)
  File "/opt/code/localstack/.venv/lib/python3.10/site-packages/werkzeug/formparser.py", line 140, in wrapper
    return f(self, stream, *args, **kwargs)
  File "/opt/code/localstack/.venv/lib/python3.10/site-packages/werkzeug/formparser.py", line 290, in _parse_multipart
    form, files = parser.parse(stream, boundary, content_length)
  File "/opt/code/localstack/.venv/lib/python3.10/site-packages/werkzeug/formparser.py", line 418, in parse
    for data in iterator:
  File "/opt/code/localstack/.venv/lib/python3.10/site-packages/werkzeug/wsgi.py", line 653, in _make_chunk_iter
    item = _read(buffer_size)
  File "/opt/code/localstack/.venv/lib/python3.10/site-packages/werkzeug/wsgi.py", line 925, in read
    return self.on_disconnect()
  File "/opt/code/localstack/.venv/lib/python3.10/site-packages/werkzeug/wsgi.py", line 893, in on_disconnect
    raise ClientDisconnected()
werkzeug.exceptions.ClientDisconnected: 400 Bad Request: The browser (or proxy) sent a request that this server could not understand.
2022-07-27T19:42:16.994 DEBUG --- [   asgi_gw_2] l.aws.handlers.fallback    : setting internal failure response for 400 Bad Request: The browser (or proxy) sent a request that this server could not understand.
2022-07-27T19:42:16.994 ERROR --- [   asgi_gw_2] localstack.aws.chain       : exception while running response handler
Traceback (most recent call last):
  File "/opt/code/localstack/localstack/aws/chain.py", line 122, in _call_response_handlers
    handler(self, self.context, response)
  File "/opt/code/localstack/localstack/aws/handlers/logging.py", line 47, in __call__
    self._log(context, response)
  File "/opt/code/localstack/localstack/aws/handlers/logging.py", line 142, in _log
    "input": restore_payload(context.request),
  File "/opt/code/localstack/localstack/http/request.py", line 220, in restore_payload
    data = request.data
  File "/opt/code/localstack/.venv/lib/python3.10/site-packages/werkzeug/utils.py", line 107, in __get__
    value = self.fget(obj)  # type: ignore
  File "/opt/code/localstack/.venv/lib/python3.10/site-packages/werkzeug/wrappers/request.py", line 354, in data
    return self.get_data(parse_form_data=True)
  File "/opt/code/localstack/.venv/lib/python3.10/site-packages/werkzeug/wrappers/request.py", line 404, in get_data
    self._load_form_data()
  File "/opt/code/localstack/.venv/lib/python3.10/site-packages/werkzeug/wrappers/request.py", line 266, in _load_form_data
    data = parser.parse(
  File "/opt/code/localstack/.venv/lib/python3.10/site-packages/werkzeug/formparser.py", line 263, in parse
    return parse_func(self, stream, mimetype, content_length, options)
  File "/opt/code/localstack/.venv/lib/python3.10/site-packages/werkzeug/formparser.py", line 140, in wrapper
    return f(self, stream, *args, **kwargs)
  File "/opt/code/localstack/.venv/lib/python3.10/site-packages/werkzeug/formparser.py", line 290, in _parse_multipart
    form, files = parser.parse(stream, boundary, content_length)
  File "/opt/code/localstack/.venv/lib/python3.10/site-packages/werkzeug/formparser.py", line 418, in parse
    for data in iterator:
  File "/opt/code/localstack/.venv/lib/python3.10/site-packages/werkzeug/wsgi.py", line 653, in _make_chunk_iter
    item = _read(buffer_size)
  File "/opt/code/localstack/.venv/lib/python3.10/site-packages/werkzeug/wsgi.py", line 925, in read
    return self.on_disconnect()
  File "/opt/code/localstack/.venv/lib/python3.10/site-packages/werkzeug/wsgi.py", line 893, in on_disconnect
    raise ClientDisconnected()
werkzeug.exceptions.ClientDisconnected: 400 Bad Request: The browser (or proxy) sent a request that this server could not understand.
2022-07-27T19:42:57.697 DEBUG --- [  Thread-174] l.s.a.lambda_executors     : Checking if there are idle containers ...
2022-07-27T19:43:57.703 DEBUG --- [  Thread-282] l.s.a.lambda_executors     : Checking if there are idle containers ...
2022-07-27T19:44:57.706 DEBUG --- [  Thread-303] l.s.a.lambda_executors     : Checking if there are idle containers ...
